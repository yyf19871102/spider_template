# 爬虫日志模块
[![Build status](http://172.18.61.225:9109/badge/nodejs_spider_logger/build.svg)](http://172.18.61.225:9109/badge/nodejs_spider_logger/build.svg)
[![version](http://172.18.61.225:9109/badge/nodejs_spider_logger/version.svg)](http://172.18.61.225:9109/badge/nodejs_spider_logger/version.svg)
[![coverage](http://172.18.61.225:9109/badge/nodejs_spider_logger/coverage.svg)](http://172.18.61.225:9109/badge/nodejs_spider_logger/coverage.svg)

node_spider_logger是nodejs爬虫日志模块封装

### 安装
这是一个私有模块，该模块存放在`http://172.18.61.225:9108`上
    
    >npm install --save @nodejs/spider-logger
    
### 使用

    const logHandler = require('@nodejs/spider-logger');
    
    let logger = logHandler.getLogger({
        console: {},
        file: {path: 'logs'}
    });
    
    logger.info('Hello world!');
    
### 配置文件说明
当前版本日志支持2种输出：控制台（console）输出和文件（file）输出

    {
        "console" : {
            "level": "all"
        },
        "file" : {
            "path" : "logs",
            "timeInterval": "H",
            "level": {"min": "debug", "max": "error"},
    
            "enabled": true
        }
    };
    
*   enabled：是否启动该日志输出，默认true；
*   level：该日志输出级别
    *   String
        *   "all"：输出所有级别日志；
        *   other：输出指定级别日志；
    *   Object：输出指定区间内级别的日志，包含2个属性
        *   "min"：最低输出级别（包含该级别）
        *   "max"：最高输出级别（包含该级别）
    *   Array：输出数组内指定级别的日志
    
 另外file输出日志格式为out文件格式。其配置包括以下属性：
 
*   path：日志文件输出目录，默认是`~/.spider-logs`
*   appName：日志文件前缀，默认前缀是`app`
*   timeInterval：日志文件生成间隔，默认每天生成一个日志文件
    *   'H'：每小时生成一个文件
    *   'm'：每分钟生成一个文件
    *   's'：美秒生成一个文件
*   roomId：机房标识，默认空
*   serverIP：服务器IP，默认本机IP
*   spiderType：爬虫/应用类型
*   workspace：爬虫部署位置
*   ext1：扩展字段1
*   ext2：扩展字段2
    
 
